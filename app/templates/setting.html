{% extends 'index_base.html' %}
{% block setting %}
<div>
    <h2>설정</h2>
    <div class="setting_container">
        <div class="setting_nav">
            <button id="profile_setting_btn" class="setting_nav_btn nav_btn_focus">프로필 편집</button>
            <button id="account_setting_btn" class="setting_nav_btn">계정</button>
        </div>
        <div class="setting_area">
            <div class="setting_nav2" id="profile_setting">
                <form action="/setting" method="post" class="change_profile_image" name="setting_form_profile" enctype="multipart/form-data">
                    <p class="setting_header">프로필 사진 변경</p>
                    <div class="profile_image_box" id="profile_image">
                        <!-- setting.js readURL -->
                        <!-- <img src="data:image/png;base64, {{session_user['profile_img']}}" alt="" class="profile_img"> -->
                        <img src="{{session_user['profile_img'][1]}}" alt="" class="profile_img">
                    </div>
                    <p id="setting_ide">{{ session['ide'] }}</p>
                    <p id="setting_name">{{ session['name'] }}</p>
                    <input type="file" id="profile_image_input" class="none" name="setting_input_profile">
                    <label for="profile_image_input" class="setting_label">파일 선택</label>
                    <button type="submit" class="setting_submit_btn" name="setting_button_profile">프로필 사진 저장</button>
                </form>
                <form action="/setting" method="post" class="change_background_image" name="setting_form_background" enctype="multipart/form-data">
                    <p class="setting_header">배경 사진 변경</p>
                    <!-- setting.js readURL -->
                    <!-- 기존에 설정해둔 이미지 표시 -->
                    <img src="{{session_user['background_img'][1]}}" alt="" class="background_img">
                    <input type="file" id="background_image_input" class="none" name="setting_input_background">
                    <label for="background_image_input" class="setting_label">파일 선택</label>
                    <button type="submit" class="setting_submit_btn" name="setting_button_background">배경 사진 저장</button>
                </form>
                <form action="/setting" method="post" name="setting_form_ide">
                    <p class="setting_header">닉네임 변경</p>
                    <input type="text" placeholder="새로운 닉네임" name="setting_input_ide">
                    <button type="submit" class="setting_submit_btn" name="setting_button_ide">닉네임 저장</button>
                </form>
                <form action="/setting" method="post" name="setting_form_bio">
                    <p class="setting_header">소개글 수정</p>
                    <input type="text"placeholder="새로운 소개글" name="setting_input_bio">
                    <button type="submit" class="setting_submit_btn" name="setting_button_bio">소개글 저장</button>
                </form>
            </div>
            <div class="setting_nav2 " id="account_setting">
                <div id="change_name" class="both_layout">
                    <p class="setting_header">사용자 이름 변경</p>
                    <form action="/setting" method="post" name="setting_form_name" class="account_form">
                        <input type="text" placeholder="새로운 이름" id="setting_id" name='setting_input_name'>
                        <button type="submit" id="setting_id_submit" class="setting_submit_btn" name='setting_button_name'>사용자 이름 저장</button>
                    </form>
                </div>
                <div class="both_layout">
                    <p class="setting_header">비밀번호 변경</p>
                    <div class="change_pw">
                        <div class="account_form">
                            <input type="password" placeholder="기존 비밀번호" id="origin_pw" name='origin_password' class="">
                            <span class="wrong_origin_pw none">비밀번호가 다릅니다</span>
                            <button type="submit" id="origin_pw_btn" class="origin_pw_btn" name='origin_pw_btn'>비밀번호 확인</button>
                        </div>
                        <form action="/check_password" method="post" name="setting_form_pw" id="setting_pw_form" class="account_form opacity">
                            <input type="password" placeholder="새로운 비밀번호" id="pw" name='password' class="lock_icon" disabled>
                            <input type="password" placeholder="새로운 비밀번호 확인" id="pw2" name='password2' class="lock_icon" disabled>
                            <span class="password_rule">비밀번호는 8자리 이상의 영문(대/소문자), 숫자를 포함시켜주세요.</span>
                            <button type="submit" id="change_pw_btn" class="setting_submit_btn" name='setting_button_pw' disabled>비밀번호 저장</button>
                        </form>
                    </div>
                </div>
                <div class="account_container">
                    <a href="/logout" id="setting_logout">로그아웃</a>
                    <div class="withdrawal">탈퇴</div>
                    <div class="setting_version">버전 정보 Ver 1.0</div>
                </div>
            </div>
        </div>
    </div>
</div>
<script type="module" src="../static/js/setting.js" defer="defer"></script>
<script type="module" src="../static/js/check_password.js"></script>
{% endblock %}