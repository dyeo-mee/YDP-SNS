{% extends 'index_base.html' %}
{% block setting %}
<div>
    <h2>설정</h2>
    <div class="setting_container">
        <div class="setting_nav">
            <button id="profile_setting_btn" class="setting_nav_btn">프로필 편집</button>
            <button id="account_setting_btn" class="setting_nav_btn">계정</button>
        </div>
        <div class="setting_area">
            <div class="setting_nav2" id="profile_setting">
                <form action="/setting" method="post" class="change_profile_image" name="setting_form_profile" enctype="multipart/form-data">
                    <p>프로필 사진 변경</p>
                    <div class="profile_image_box" id="profile_image">
                        <!-- setting.js readURL -->
                        <!-- <img src="data:image/png;base64, {{session_user['profile_img']}}" alt="" class="profile_img"> -->
                        <img src="{{session_user['profile_img'][1]}}" alt="" class="profile_img">
                    </div>
                    <p>{{ session['ide'] }}</p>
                    <p>{{ session['name'] }}</p>
                    <input type="file" id="profile_image_input" class="none" name="setting_input_profile">
                    <label for="profile_image_input" class="setting_label">파일 선택</label>
                    <button type="submit" class="setting_submit_btn" name="setting_button_profile">프로필 사진 저장</button>
                </form>
                <form action="/setting" method="post" class="change_background_image" name="setting_form_background" enctype="multipart/form-data">
                    <p>배경 사진 변경</p>
                    <!-- setting.js readURL -->
                    <!-- 기존에 설정해둔 이미지 표시 -->
                    <img src="{{session_user['background_img'][1]}}" alt="" class="background_img">
                    <input type="file" id="background_image_input" class="none" name="setting_input_background">
                    <label for="background_image_input" class="setting_label">파일 선택</label>
                    <button type="submit" class="setting_submit_btn" name="setting_button_background">배경 사진 저장</button>
                </form>
                <form action="/setting" method="post" name="setting_form_ide">
                    <p>닉네임 변경</p>
                    <input type="text" placeholder="새로운 닉네임" name="setting_input_ide">
                    <button type="submit" class="setting_submit_btn" name="setting_button_ide">닉네임 저장</button>
                </form>
                <form action="/setting" method="post" name="setting_form_bio">
                    <p>소개글 수정</p>
                    <input type="text"placeholder="새로운 소개글" name="setting_input_bio">
                    <button type="submit" class="setting_submit_btn" name="setting_button_bio">소개글 저장</button>
                </form>
            </div>
            <div class="setting_nav2 none" id="account_setting">
                <div class="both_layout">
                    <p>사용자 이름 변경</p>
                    <form action="/setting" method="post" name="setting_form_name">
                        <input type="text" placeholder="새로운 이름" id="setting_id" name='setting_input_name'>
                        <button type="submit" id="setting_id_submit" class="setting_submit_btn" name='setting_button_name'>사용자 이름 저장</button>
                    </form>
                </div>
                <div class="both_layout">
                    <p>비밀번호 변경</p>
                    <form action="/check_password" method="post" name="setting_form_pw">
                        <input type="password" placeholder="기존 비밀번호" id="pw" name='password' class="lock_icon">
                        <input type="password" placeholder="새로운 비밀번호" id="pw2" name='password2' class="lock_icon">
                        <span class="password_rule">비밀번호는 8자리 이상의 영문(대/소문자), 숫자를 포함시켜주세요.</span>
                        <button type="submit" id="change_pw_btn" class="setting_submit_btn" name='setting_button_pw'>비밀번호 저장</button>
                    </form>
                </div>
                <div class="account_container">
                    <a href="/logout" id="setting_logout">로그아웃</a>
                    <div class="withdrawal">탈퇴</div>
                    <div class="setting_version">버전 정보 Ver 1.0</div>
                </div>
            </div>
        </div>
    </div>
</div>
<script type="module" src="../static/js/setting.js" defer="defer"></script>
<script type="module" src="../static/js/check_password.js"></script>
{% endblock %}