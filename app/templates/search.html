{% extends 'index_base.html' %}
{% block search %}

<div class="search_container">
    <h2>"{{ search }}" 검색 결과</h2>
</div>
<div class="both_layout" id="search" data-name= '{{ session_user }}' data-search_user = '{{ search_user_id }}'\
        data-friend_list='{{ friend_list }}' data-session_request_list='{{ session_request_list }}'>
    <div class="content_container">
        <h4>게시물</h4>
    </div>

    <div class="layout_right friend_list">
        <h4>계정</h4>
        {% for user in search_user %}
            <div class="search_user">
                <div class="user_profile_img">
                    <!-- user 검색 결과 프로필 이미지 -->
                    <a>
                    </a>
                </div>
                <div class="user_name_id">
                    <a class="user_name">
                        {{user.name}}
                    </a>
                    <div class="user_id">
                        {{ user.user_id }}
                    </div>
                </div>
                <div class="friend_button_area" id = 'friend_button_area'>
                    <!-- <a href="" id="button_a">
                        <input class="friend_button" id="friend_button" value="친구 요청">
                    </a> -->
                </div>
            </div> 
        {% endfor %}
    </div>
    <script>
        $('#friend_button_area').click(function(){
            var id = $('#id1').val();
            var password = $('#password1').val();
            var email = $('#email1').val();

            var postdata = {
                'id':id, 'password':password, 'email':email
            }
            $.ajax({
                type: 'POST',
                url: '{{url_for("ajax")}}',
                data: JSON.stringify(postdata),
                dataType : 'JSON',
                contentType: "application/json",
                success: function(data){
                    alert('성공! 데이터 값:' + data.result2['id']+" " + data.result2['password']+ " " + data.result2['email'])
                },
                error: function(request, status, error){
                    alert('ajax 통신 실패')
                    alert(error);
                }
            })
        })
    </script>
    <!-- 검색어 db 필터링, js 조건문 별로 다른 버튼 생성 -->
</div>
<div id="friend_button_test">
    <input type='button' value='createDiv'onclick='create_btn()'/>
</div>

<!-- <script src="../static/js/search.js" defer="defer"></script> -->
<script src="../static/js/search_test.js" defer="defer"></script>
{% endblock %}